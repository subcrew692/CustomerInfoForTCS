webpackJsonp([1],{NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(e){a("gsu9")},null,null).exports,r=a("/ocq"),o=a("Dd8w"),l=a.n(o),d=a("fZjL"),m=a.n(d),u=firebase.database().ref("/employees/"),c=firebase.database().ref("/customers/"),p={name:"HelloWorld",data:function(){return{mobile:"0987808488",loading:"none",addEmpType:"1",addEmpName:"",empObjList:[],consumeInfo:[],delDesignerName:"none",delAssistantName:"none",workDesignerName:"none",workAssistantName:"none",messageModal:!1,infoMsg:"",modifyEmpArea:!1,designYear:(new Date).getFullYear(),designMonth:(new Date).getMonth()+1,designDate:(new Date).getDate(),allYears:[],allMonths:[1,2,3,4,5,6,7,8,9,10,11,12],monthDates:[31,28,31,30,31,30,31,31,30,31,30,31],allDates:[],cut:"",dye:"",burn:"",wash:""}},methods:{addEmp:function(){var e=this;console.log({"emp name":e.addEmpName}),e.loading=!0,u.push({empName:e.addEmpName,empType:e.addEmpType,timeStamp:e.getTime()}),e.loading=!1},getTime:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},deleteEmp:function(){var e=this;if("none"!==e.delDesignerName)for(var t=0;t<e.empObjList.length;t++)if(e.empObjList[t].empName===e.delDesignerName){e.loading=!0;var a=e.empObjList[t].id;firebase.database().ref("/employees/"+a).set({}),e.delDesignerName="none"}if("none"!==e.delAssistantName)for(t=0;t<e.empObjList.length;t++)if(e.empObjList[t].empName===e.delAssistantName){e.loading=!0;a=e.empObjList[t].id;firebase.database().ref("/employees/"+a).set({}),e.delAssistantName="none"}e.loading=!1},changeDay:function(){var e=this,t=e.designYear,a=e.designMonth;"2"===a&&(e.monthDates[1]=e.checkLeapYear(t)),e.allDates=[];for(var n=1;n<=e.monthDates[a-1];n++)e.allDates.push(n)},checkLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0?29:28},addCustomerData:function(){var e=this,t=(this.totalCost,this.workDesignerName);this.workAssistantName;if("none"===t)return alert("Are you kidding me?!"),!1;if(e.checkValueIsNumber()){e.loading=!0;var a=e.designYear+"/"+e.designMonth+"/"+e.designDate,n=e.cut>0?"剪: "+e.cut:"",s=e.dye>0?"染: "+e.dye:"",i=e.burn>0?"燙: "+e.burn:"",r=e.wash>0?"洗: "+e.wash:"",o=n+s+i+r;console.log(a),c.push({mobile:e.mobile,date:a,totalCost:e.totalCost,designer:e.workDesignerName,assistant:e.workAssistantName,cut:n,dye:s,burn:i,wash:r,detail:o}),e.loading=!1}},checkValueIsNumber:function(){var e=this,t="";return t+=isNaN(e.cut)?"剪 ":"",t+=isNaN(e.dye)?"染 ":"",t+=isNaN(e.burn)?"燙 ":"",(t+=isNaN(e.wash)?"洗 ":"").length>0?(alert(t+"欄位輸入有誤"),!1):0!==Number(e.totalCost)||(alert("for free?? sober up ok?"),!1)},delRecord:function(e){this.loading=!0,console.log(e),firebase.database().ref("/customers/"+e).set({}),this.loading=!1}},computed:{totalCost:function(){var e=this,t=0;return!isNaN(e.cut)&&Number(e.cut)>0&&(t+=Number(e.cut)),!isNaN(e.dye)&&Number(e.dye)>0&&(t+=Number(e.dye)),!isNaN(e.burn)&&Number(e.burn)>0&&(t+=Number(e.burn)),!isNaN(e.wash)&&Number(e.wash)>0&&(t+=Number(e.wash)),t},reverseInfo:function(){return this.consumeInfo.reverse()}},mounted:function(){var e=this;u.on("value",function(t){var a=t.val(),n=a?m()(a).map(function(e){return l()({id:e},a[e])}):null;e.empObjList=n}),c.on("value",function(t){var a=t.val(),n=a?m()(a).map(function(e){return l()({id:e},a[e])}):null;e.consumeInfo=n});for(var t=new Date,a=1911;a<=t.getFullYear();a++)e.allYears.push(a);for(a=1;a<=31;a++)e.allDates.push(a)}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[e._m(0),e._v(" "),a("div",{staticClass:"loading",style:{display:e.loading,cursor:"wait"}},[e._m(1)]),e._v(" "),a("table",{staticStyle:{width:"100%"}},[a("tbody",[a("tr",[a("td",{staticStyle:{width:"100%"},attrs:{colspan:"2"}},[a("div",{staticClass:"panel-heading",staticStyle:{"font-family":"consolas","text-align":"left"}},[a("span",{staticStyle:{"font-size":"25px",cursor:"pointer"},on:{click:function(t){e.modifyEmpArea=!e.modifyEmpArea}}},[a("strong",[e._v("員工異動 \n                "),e.modifyEmpArea?e._e():a("i",{staticClass:"fa fa-chevron-down"}),e._v(" "),e.modifyEmpArea?a("i",{staticClass:"fa fa-chevron-up"}):e._e()])])])])]),e._v(" "),a("tr",[a("td",{staticStyle:{width:"50%"}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyEmpArea,expression:"modifyEmpArea"}],staticClass:"panel-heading",staticStyle:{"font-family":"consolas","text-align":"left"}},[a("span",{staticStyle:{"font-size":"18px"}},[e._v("新增\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addEmpType,expression:"addEmpType"}],attrs:{type:"radio",name:"r",value:"1"},domProps:{checked:e._q(e.addEmpType,"1")},on:{change:function(t){e.addEmpType="1"}}}),e._v("設計師\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addEmpType,expression:"addEmpType"}],attrs:{type:"radio",name:"r",value:"2"},domProps:{checked:e._q(e.addEmpType,"2")},on:{change:function(t){e.addEmpType="2"}}}),e._v("助理\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addEmpName,expression:"addEmpName"}],staticClass:"form-controll",attrs:{type:"text",placeholder:"請輸入名字"},domProps:{value:e.addEmpName},on:{input:function(t){t.target.composing||(e.addEmpName=t.target.value)}}}),e._v(" "),a("div",{staticClass:"btn btn-info",on:{click:function(t){return e.addEmp()}}},[a("i",{staticClass:"fa fa-user"}),e._v(" 確認新增")])])])])],1),e._v(" "),a("td",{staticStyle:{width:"50%"}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyEmpArea,expression:"modifyEmpArea"}],staticClass:"panel-heading",staticStyle:{"font-family":"consolas","text-align":"right"}},[a("span",{staticStyle:{"font-size":"18px"}},[e._v("刪除\n                    設計師:"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.delDesignerName,expression:"delDesignerName"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.delDesignerName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"none"}},[e._v("請選擇")]),e._v(" "),e._l(e.empObjList,function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:"1"==t.empType,expression:"emp.empType == '1'"}],key:t.id,domProps:{value:t.empName}},[e._v(e._s(t.empName))])})],2),e._v("\n                    助理:"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.delAssistantName,expression:"delAssistantName"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.delAssistantName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"none"}},[e._v("請選擇")]),e._v(" "),e._l(e.empObjList,function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:"2"==t.empType,expression:"emp.empType == '2'"}],key:t.id,domProps:{value:t.empName}},[e._v(e._s(t.empName))])})],2),e._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteEmp()}}},[a("i",{staticClass:"fa fa-times"}),e._v(" 確認刪除")])])])])],1)])])]),e._v(" "),a("table",{staticStyle:{"text-align":"left",width:"100%","font-size":"20px"},attrs:{border:"0"}},[a("tbody",[a("tr",[a("td",{staticStyle:{height:"50px",width:"23%"}},[a("i",{staticClass:"far fa-calendar-alt"}),e._v("日期 \n              "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.designYear,expression:"designYear"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.designYear=t.target.multiple?a:a[0]},function(t){return e.changeDay()}]}},e._l(e.allYears,function(t){return a("option",[e._v(e._s(t))])}),0),e._v("/\n              "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.designMonth,expression:"designMonth"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.designMonth=t.target.multiple?a:a[0]},function(t){return e.changeDay()}]}},e._l(e.allMonths,function(t){return a("option",[e._v(e._s(t))])}),0),e._v("/\n              "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.designDate,expression:"designDate"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.designDate=t.target.multiple?a:a[0]}}},e._l(e.allDates,function(t){return a("option",[e._v(e._s(t))])}),0)]),e._v(" "),a("td",{staticStyle:{width:"23%"}},[a("i",{staticClass:"fa fa-dollar"}),e._v("總金額:  "+e._s(e.totalCost))]),e._v(" "),a("td",{staticStyle:{width:"23%"}},[a("i",{staticClass:"fa fa-scissors"}),e._v("設計師  \n            "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.workDesignerName,expression:"workDesignerName"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.workDesignerName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"none"}},[e._v("請選擇")]),e._v(" "),e._l(e.empObjList,function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:"1"==t.empType,expression:"emp.empType == '1'"}],key:t.id,domProps:{value:t.empName}},[e._v(e._s(t.empName))])})],2)]),e._v(" "),a("td",{staticStyle:{width:"23%"}},[a("i",{staticClass:"fa fa-bars"}),e._v("助理  \n            "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.workAssistantName,expression:"workAssistantName"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.workAssistantName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"none"}},[e._v("請選擇")]),e._v(" "),e._l(e.empObjList,function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:"2"==t.empType,expression:"emp.empType == '2'"}],key:t.id,domProps:{value:t.empName}},[e._v(e._s(t.empName))])})],2)]),e._v(" "),a("td",{attrs:{rowspan:"2"}},[a("div",{staticClass:"btn btn-success",on:{click:function(t){return e.addCustomerData()}}},[a("i",{staticClass:"fa fa-save"}),e._v(" 新增資料")])])]),e._v(" "),a("tr",[a("td",{staticStyle:{height:"50px"}},[e._v("\n            剪  "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.cut,expression:"cut",modifiers:{number:!0}}],staticStyle:{width:"75px"},attrs:{type:"text"},domProps:{value:e.cut},on:{input:function(t){t.target.composing||(e.cut=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),a("td",{staticStyle:{height:"50px"}},[e._v("\n            染  "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dye,expression:"dye",modifiers:{number:!0}}],staticStyle:{width:"75px"},attrs:{type:"text"},domProps:{value:e.dye},on:{input:function(t){t.target.composing||(e.dye=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),a("td",{staticStyle:{height:"50px"}},[e._v("\n            燙  "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.burn,expression:"burn",modifiers:{number:!0}}],staticStyle:{width:"75px"},attrs:{type:"text"},domProps:{value:e.burn},on:{input:function(t){t.target.composing||(e.burn=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),a("td",{staticStyle:{height:"50px"}},[e._v("\n            洗  "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.wash,expression:"wash",modifiers:{number:!0}}],staticStyle:{width:"75px"},attrs:{type:"text"},domProps:{value:e.wash},on:{input:function(t){t.target.composing||(e.wash=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])])]),e._v(" "),a("table",{staticStyle:{"text-align":"center",width:"80%","font-size":"20px"},attrs:{border:"1",align:"center"}},[a("tbody",[e._m(2),e._v(" "),e._l(e.reverseInfo,function(t,n){return a("tr",[a("td",[e._v(e._s(n))]),e._v(" "),a("td",[e._v(e._s(t.date))]),e._v(" "),a("td",[e._v(e._s(t.totalCost))]),e._v(" "),a("td",[e._v(e._s(t.designer))]),e._v(" "),a("td",[e._v(e._s("none"===t.assistant?"":t.assistant))]),e._v(" "),a("td",[e._v(e._s(t.detail))]),e._v(" "),a("td",[a("i",{staticClass:"fa fa-times",staticStyle:{cursor:"pointer",color:"red"},on:{click:function(a){return e.delRecord(t.id)}}})])])})],2)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.messageModal,expression:"messageModal"}],staticClass:"madal"},[a("div",{staticClass:"modal__container"},[e._m(3),e._v(" "),a("div",{staticClass:"modal__body"},[a("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.infoMsg))])]),e._v(" "),a("footer",{staticClass:"modal__footer"})])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{align:"center"}},[t("h1",[this._v("TCS")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"spinner"},[t("div",{staticClass:"double-bounce1"}),this._v(" "),t("div",{staticClass:"double-bounce2"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[e._v("編號")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("設計日期")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("消費金額")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("設計師")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("助理")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("設計內容")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("刪除紀錄")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"modal__header"},[t("h2",{staticClass:"view-title"},[this._v("Info Message")])])}]};var f=a("VU/8")(p,v,!1,function(e){a("eG1G")},"data-v-465f9436",null).exports;n.a.use(r.a);var _=new r.a({routes:[{path:"/",name:"CustomerInfo",component:f}]}),g=a("oPmM"),h=a.n(g);n.a.use(h.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:_,components:{App:i},template:"<App/>"})},eG1G:function(e,t){},gsu9:function(e,t){},oPmM:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.25d6282c7934d22c084c.js.map